<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Texas Coyote Bar</title>
  <link rel="icon" href="" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Stardos+Stencil&display=swap" rel="stylesheet">
</head>
<body>
  <div class="background-overlay"></div>

<header class="text-center py-3">
  <img src="../img/logo2.png" alt="Texas Bar Logo" class="logo my-2" />
  <nav class="navbar justify-content-center">
    <ul class="nav">
      <li class="nav-item">
        <a class="nav-link text-dark" href="../index.html">HOME</a>
      </li>
    </ul>
  </nav>
</header>

  <main class="text-center">
    <h1 class="welcome-heading">Gutscheine im Lokal erhältlich</h1>

  <!-- Login + Download Script -->
  <script>
    // Test-Zugang: Username "texas", Passwort "texas"
    const VALID_USER = "texas";
    const VALID_PASS_HASH = "5873102fa0951713a81154785217660a3a116274481a19fb2eea5c56182f4860"; // Hash von "texas"

    async function sha256(str) {
      const buf = new TextEncoder().encode(str);
      const hashBuffer = await crypto.subtle.digest("SHA-256", buf);
      return [...new Uint8Array(hashBuffer)].map(b => b.toString(16).padStart(2, "0")).join("");
    }

    async function checkLogin() {
      const user = (prompt("Bitte Benutzername eingeben:") || "").trim();
      const pass = prompt("Bitte Passwort eingeben:") || "";

      if (!user || !pass) {
        alert("Eingabe abgebrochen.");
        return;
      }

      const passHash = await sha256(pass);

      if (user === VALID_USER && passHash === VALID_PASS_HASH) {
        // ✅ Login korrekt → Datei herunterladen
        const link = document.createElement("a");
        link.href = "img/Gutschein Querformat.png"; // Pfad zur Datei
        link.download = "Gutschein Querformat.png";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } else {
        // ❌ Falsch
        alert("Falscher Nutzername oder Passwort!");
      }
    }
  </script>

    <!-- Gutschein Vorschau -->
    <div class="text-center my-3">
  <img src="img/gutschein2.png" alt="Gutschein" class="img-fluid img-gutschein">
</div>

    <!-- Download Button -->
    <div class="text-center my-4">
      <button onclick="checkLogin()" class="btn px-4 py-2 rounded-pill shadow-sm">
        <i class="bi bi-download me-2"></i> Gutschein downloaden
      </button>
    </div>

    
   

    
  </main>

  <footer class="text-white text-center py-3 mt-5">
    &copy; 2025 Texas Coyote Bar – Obertrum am See
  </footer>

  <script src="script.js"></script>
</body>
</html>

